<html>

<head>

    <!DOCTYPE html>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>


<header>

    <TITLE>Nova City</TITLE>
    <link rel="shortcut icon" href="img/logo_nova_city.png" type="image/x-icon">

    <nav>


        <div class="nav_barre ">

            <div>
                <a href="index.html">
                    <img class="icone_nav_home" src="img/home.png ">
                </a>
            </div>
            <div>
                <img class="icone_nav_bluetooth" src="img/Bluetooth.png ">
            </div>
            <div>
                <img class="icone_nav_wifi " src="img/wifi.png ">
            </div>
            <div>
                <img class="icone_nav_batterie " src="img/batterie.png ">
            </div>
            <div id="time_live">

                <script>
                    function startTime() {
                        const today = new Date();
                        let h = today.getHours();
                        let m = today.getMinutes();
                        m = checkTime(m);

                        document.getElementById('time_live').innerHTML = h + ":" + m;
                        setTimeout(startTime, 1000);
                    }

                    function checkTime(i) {
                        if (i < 10) {
                            i = "0" + i
                        }; // add zero in front of numbers < 10
                        return i;
                    }
                </script>

            </div>
            <div id="date_live">


                <script>
                    n = new Date();
                    y = n.getFullYear();
                    m = n.getMonth() + 1;
                    d = n.getDate();
                    document.getElementById("date_live").innerHTML = d + "/" + m + "/" + y;
                </script>
            </div>



        </div>
    </nav>


</header>

<BODY onload="startTime()">


    <img src="img/windows10.png " class="background-img ">

    <section class="app ">
        <div class="app_flex ">
            <div>
                <img class="app_icon" src="img/bus.png ">
            </div>
            <div>
                <a href="darkweb.php">
                    <img class="app_icon " src="img/dark.jpeg ">
                </a>
            </div>
            <div>
                <a href="lebonplan.php">
                    <img class="app_icon " src="img/lebonplan.png">
                </a>
            </div>
            <div>
                <img class="app_icon " src="img/sfnc.png ">
            </div>
            <div>

                    <img class="app_icon " src="img/music.png ">
 
            </div>
            <div>
                <img class="app_icon " src="img/mail.png ">
            </div>
            <div>
                <a href="map.html">
                    <img class="app_icon " src="img/map.jpg ">
                </a>
            </div>
            <div>
                <a href="bplogistics.html">
                    <img class="app_icon " src="img/logo_bp_jpg.jpg">
                </a>
            </div>

        </div>


    </section>

    <section>


        <div class="clock">
            <div class="hours">
                <div class="first">
                    <div class="number">0</div>
                </div>
                <div class="second">
                    <div class="number">0</div>
                </div>
            </div>
            <div class="tick">:</div>
            <div class="minutes">
                <div class="first">
                    <div class="number">0</div>
                </div>
                <div class="second">
                    <div class="number">0</div>
                </div>
            </div>


        </div>
        <script>
            var hoursContainer = document.querySelector('.hours')
            var minutesContainer = document.querySelector('.minutes')
            var secondsContainer = document.querySelector('.seconds')
            var tickElements = Array.from(document.querySelectorAll('.tick'))

            var last = new Date(0)
            last.setUTCHours(-1)

            var tickState = true

            function updateTime() {
                var now = new Date

                var lastHours = last.getHours().toString()
                var nowHours = now.getHours().toString()
                if (lastHours !== nowHours) {
                    updateContainer(hoursContainer, nowHours)
                }

                var lastMinutes = last.getMinutes().toString()
                var nowMinutes = now.getMinutes().toString()
                if (lastMinutes !== nowMinutes) {
                    updateContainer(minutesContainer, nowMinutes)
                }

                var lastSeconds = last.getSeconds().toString()
                var nowSeconds = now.getSeconds().toString()
                if (lastSeconds !== nowSeconds) {
                    //tick()
                    updateContainer(secondsContainer, nowSeconds)
                }

                last = now
            }

            function tick() {
                tickElements.forEach(t => t.classList.toggle('tick-hidden'))
            }

            function updateContainer(container, newTime) {
                var time = newTime.split('')

                if (time.length === 1) {
                    time.unshift('0')
                }


                var first = container.firstElementChild
                if (first.lastElementChild.textContent !== time[0]) {
                    updateNumber(first, time[0])
                }

                var last = container.lastElementChild
                if (last.lastElementChild.textContent !== time[1]) {
                    updateNumber(last, time[1])
                }
            }

            function updateNumber(element, number) {
                //element.lastElementChild.textContent = number
                var second = element.lastElementChild.cloneNode(true)
                second.textContent = number

                element.appendChild(second)
                element.classList.add('move')

                setTimeout(function() {
                    element.classList.remove('move')
                }, 990)
                setTimeout(function() {
                    element.removeChild(element.firstElementChild)
                }, 990)
            }

            setInterval(updateTime, 100)
        </script>

    </section>








</BODY>
<footer>

    <p class="droit">Tout droit réservé | BECHARD Thibault</p>

</footer>

</html>